{"ast":null,"code":"import _defineProperty from\"E:\\\\PlayerPlusPlus\\\\player-plus-plus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\PlayerPlusPlus\\\\player-plus-plus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\PlayerPlusPlus\\\\player-plus-plus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\PlayerPlusPlus\\\\player-plus-plus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\PlayerPlusPlus\\\\player-plus-plus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"E:\\\\PlayerPlusPlus\\\\player-plus-plus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import NavBar from\"./navbar.component\";import\"./style-sheets/postpage.css\";import{connect}from\"react-redux\";var Post=function Post(props){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"postPost\"},React.createElement(\"div\",{className:\"postPostHeader\"},React.createElement(\"div\",{className:\"postHeaderCircle\"},React.createElement(\"div\",{style:{height:'50px',width:'50px',backgroundImage:\"url(\".concat(require(\"./style-sheets/pics/profilePic.png\"),\")\")}})),React.createElement(\"div\",{className:\"postPosterName\"},props.post.name,React.createElement(\"br\",null),React.createElement(\"div\",{className:\"postPostDate\"},props.post.date.split(\"T\")[0])),React.createElement(\"div\",{className:\"postPlatformIcon\",style:{display:props.post.platform==\"noPlatform\"?\"none\":\"block\"}},React.createElement(\"div\",{style:{height:\"25px\",width:\"25px\",backgroundImage:props.post.platform==\"noPlatform\"?\"url()\":\"url(\".concat(require(\"./style-sheets/pics/PlatformPics/\".concat(props.post.platform,\".png\")),\")\")}}))),React.createElement(\"div\",{className:\"postContentBox\"},React.createElement(\"div\",{className:\"postContentText\"},props.post.message),React.createElement(\"p\",{style:{fontSize:\"14px\",color:\"#c9c4c2\",marginLeft:\"10px\",marginBottom:\"-8px\",paddingTop:\"10px\"}},props.replyCount,\" Replies\"),React.createElement(\"hr\",{className:\"postReplyOptionsDivider\"}),React.createElement(\"div\",{className:\"replyOptions\"},React.createElement(\"button\",{type:\"button\",\"data-toggle\":\"\",\"data-target\":\"\",className:\"postQuickReplyButton\"},\"Quick Reply\"),React.createElement(\"button\",{type:\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#replyModal\",className:\"replyButton\"},\"Reply\")))));};var Reply=function Reply(props){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"repliesContainter\"},React.createElement(\"div\",{className:\"reply\"},React.createElement(\"div\",{className:\"replyHeader\"},React.createElement(\"div\",{className:\"replyHeaderCircle\"}),React.createElement(\"div\",{className:\"replyName\"},props.reply.name,React.createElement(\"br\",null),React.createElement(\"div\",{className:\"replyDate\"},props.reply.date.split(\"T\")[0])))),React.createElement(\"div\",{className:\"replyContentBox\"},React.createElement(\"div\",{className:\"replyContentText\"},props.reply.message))));};var PostPage=/*#__PURE__*/function(_Component){_inherits(PostPage,_Component);function PostPage(props){var _this;_classCallCheck(this,PostPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(PostPage).call(this,props));_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmitReply=function(e){e.preventDefault();var newReply={name:_this.props.auth.user.name,message:_this.state.replyContent,game:_this.state.postInfo.game,postId:_this.state.postInfo._id};axios.post('/replies/reply',newReply).then(function(res){_this.getReplies(_this.state.postInfo._id);});_this.setState({replyContent:\"\"});};_this.state=_this.getInitialState();return _this;}_createClass(PostPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.scrollTo(0,0);axios.get('/posts/getpost/'+this.props.location.id).then(function(res){_this2.setPostInfo(res.data);_this2.getReplies(res.data._id);var postComp=React.createElement(Post,{post:res.data,replyCount:_this2.state.replies.length,key:res.data._id});_this2.setState({postComp:postComp});}).catch(function(error){console.log(error);});}},{key:\"getReplies\",value:function getReplies(postId){var _this3=this;axios.get('/replies/'+postId).then(function(res){console.log(\"Replies:\"+res.data);_this3.setReplies(res.data.reverse());}).catch(function(error){console.log(error);});}},{key:\"setPostComp\",value:function setPostComp(post){console.log(\"In setPostComp: \"+post);localStorage.setItem('PostComp',JSON.stringify(post));this.setState({postComp:post});}},{key:\"setPostInfo\",value:function setPostInfo(postInfo){localStorage.setItem('PostInfo',JSON.stringify(postInfo));this.setState({postInfo:postInfo});}},{key:\"setReplies\",value:function setReplies(replies){localStorage.setItem('Replies',JSON.stringify(replies));this.setState({replies:replies});}},{key:\"createReplies\",value:function createReplies(){return this.state.replies.map(function(currentReply){return React.createElement(Reply,{reply:currentReply,key:currentReply._id});});}},{key:\"getInitialState\",value:function getInitialState(){var postInfo=JSON.parse(localStorage.getItem('PostInfo'))||[];var replies=JSON.parse(localStorage.getItem('Replies'))||[];var replyContent=\"\";var postComp=React.createElement(Post,{post:postInfo,replyCount:replies.length,key:postInfo._id});return{postComp:postComp,postInfo:postInfo,replies:replies,replyContent:replyContent};}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"modal fade\",id:\"replyModal\",tabindex:\"-1\",\"aria-labelledby\":\"replyModalLabel\",\"aria-hidden\":\"true\"},React.createElement(\"div\",{className:\"modal-dialog\"},React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmitReply},React.createElement(\"div\",{className:\"modal-content\",style:{backgroundColor:\"#262525\"}},React.createElement(\"div\",{className:\"modal-header\"},React.createElement(\"h5\",{className:\"modal-title\",id:\"replyModalLabel\",style:{marginLeft:\"167px\",color:\"white\"}},\"Write a Reply\")),React.createElement(\"div\",{className:\"modal-body\",style:{color:\"white\"}},React.createElement(\"textarea\",{className:\"form-control\",\"aria-label\":\"ReplyBox\",placeholder:\"Write a reply...\",onChange:this.onChange,value:this.state.replyContent,id:\"replyContent\",style:{color:\"black\"}})),React.createElement(\"div\",{className:\"modal-footer\"},React.createElement(\"button\",{type:\"button\",className:\"btn closeModalButton\",\"data-dismiss\":\"modal\"},\"Close\"),React.createElement(\"button\",_defineProperty({type:\"button\",className:\"btn postReplyButton\"},\"type\",\"submit\"),\"Post Reply\")))))),React.createElement(NavBar,null),React.createElement(\"div\",{className:\"page\"},React.createElement(\"div\",{className:\"postFeed\"},this.state.postComp,React.createElement(\"div\",{style:{marginTop:\"-1px\"}},React.createElement(\"hr\",{className:\"postReplyOptionsDivider2\"}),this.createReplies(),React.createElement(\"div\",{className:\"replyFooter\"})))));}}]);return PostPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps)(PostPage);","map":{"version":3,"sources":["E:/PlayerPlusPlus/player-plus-plus/src/components/post-page.component.js"],"names":["React","Component","axios","NavBar","connect","Post","props","height","width","backgroundImage","require","post","name","date","split","display","platform","message","fontSize","color","marginLeft","marginBottom","paddingTop","replyCount","Reply","reply","PostPage","onChange","e","setState","target","id","value","onSubmitReply","preventDefault","newReply","auth","user","state","replyContent","game","postInfo","postId","_id","then","res","getReplies","getInitialState","window","scrollTo","get","location","setPostInfo","data","postComp","replies","length","catch","error","console","log","setReplies","reverse","localStorage","setItem","JSON","stringify","map","currentReply","parse","getItem","backgroundColor","marginTop","createReplies","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport NavBar from \"./navbar.component\";\r\nimport \"./style-sheets/postpage.css\"\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Post = props => (\r\n  <div>\r\n    <div className=\"postPost\">\r\n      <div className=\"postPostHeader\">\r\n        <div className=\"postHeaderCircle\">\r\n          <div style={{height: '50px', width: '50px', backgroundImage: `url(${require(`./style-sheets/pics/profilePic.png`)})`}}></div>\r\n        </div>\r\n        <div className=\"postPosterName\">\r\n          {props.post.name}\r\n          <br></br>\r\n          <div className=\"postPostDate\">{props.post.date.split(\"T\")[0]}</div>\r\n        </div>\r\n        <div className=\"postPlatformIcon\" style={{display: props.post.platform == \"noPlatform\" ? \"none\" : \"block\"}}>\r\n          <div style={{height: \"25px\", width: \"25px\", backgroundImage: props.post.platform == \"noPlatform\" ? \"url()\" : `url(${require(`./style-sheets/pics/PlatformPics/${props.post.platform}.png`)})`}}></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"postContentBox\">\r\n        <div className=\"postContentText\">{props.post.message}</div>\r\n        <p style={{fontSize: \"14px\", color: \"#c9c4c2\", marginLeft: \"10px\",marginBottom: \"-8px\", paddingTop: \"10px\"}}>{props.replyCount} Replies</p>\r\n        <hr className=\"postReplyOptionsDivider\"></hr>\r\n        <div className=\"replyOptions\">\r\n          <button type=\"button\" data-toggle=\"\" data-target=\"\" className=\"postQuickReplyButton\">Quick Reply</button>\r\n          <button type=\"button\" data-toggle=\"modal\" data-target=\"#replyModal\" className=\"replyButton\">Reply</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nconst Reply = props => (\r\n  <div>\r\n    <div className=\"repliesContainter\">\r\n      <div className=\"reply\">\r\n        <div className=\"replyHeader\">\r\n          <div className=\"replyHeaderCircle\">\r\n            {/* <div style={{height: '40px', width: '40px', backgroundImage: `url(${require(`./style-sheets/pics/profilePic.png`)})`}}></div> */}\r\n          </div>\r\n          <div className=\"replyName\">\r\n            {props.reply.name}\r\n            <br></br>\r\n            <div className=\"replyDate\">{props.reply.date.split(\"T\")[0]}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"replyContentBox\">\r\n        <div className=\"replyContentText\">{props.reply.message}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nclass PostPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = this.getInitialState();\r\n  }\r\n\r\n  componentDidMount(){\r\n    window.scrollTo(0,0);\r\n    axios.get('/posts/getpost/' + this.props.location.id)\r\n      .then(res => {\r\n        this.setPostInfo(res.data);\r\n        this.getReplies(res.data._id);\r\n        var postComp = <Post post={res.data} replyCount={this.state.replies.length} key={res.data._id} />\r\n        this.setState({postComp: postComp});\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmitReply = e => {\r\n    e.preventDefault();\r\n\r\n    const newReply = {\r\n      name: this.props.auth.user.name,\r\n      message: this.state.replyContent,\r\n      game: this.state.postInfo.game,\r\n      postId: this.state.postInfo._id\r\n    };\r\n\r\n    axios.post('/replies/reply', newReply)\r\n      .then(res => {\r\n        this.getReplies(this.state.postInfo._id);\r\n      });\r\n\r\n    this.setState({replyContent: \"\"});\r\n  };\r\n\r\n  getReplies(postId){\r\n    axios.get('/replies/' + postId)\r\n    .then(res => {\r\n      console.log(\"Replies:\" + res.data);\r\n      this.setReplies(res.data.reverse());\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  setPostComp(post) {\r\n    console.log(\"In setPostComp: \" + post);\r\n    localStorage.setItem('PostComp', JSON.stringify(post));\r\n    this.setState({postComp: post});\r\n  }\r\n\r\n  setPostInfo(postInfo) {\r\n    localStorage.setItem('PostInfo', JSON.stringify(postInfo));\r\n    this.setState({postInfo: postInfo});\r\n\r\n  }\r\n\r\n  setReplies(replies) {\r\n    localStorage.setItem('Replies', JSON.stringify(replies));\r\n    this.setState({replies: replies});\r\n  }\r\n\r\n  createReplies(){\r\n    return this.state.replies.map(currentReply =>{\r\n      return <Reply reply={currentReply} key={currentReply._id} />\r\n    })\r\n  }\r\n\r\n  getInitialState() {\r\n    var postInfo = JSON.parse(localStorage.getItem('PostInfo')) || [];\r\n    var replies = JSON.parse(localStorage.getItem('Replies')) || [];\r\n    var replyContent = \"\";\r\n    var postComp = <Post post={postInfo} replyCount={replies.length} key={postInfo._id} />\r\n\r\n    return {\r\n      postComp: postComp,\r\n      postInfo: postInfo,\r\n      replies: replies,\r\n      replyContent: replyContent\r\n    };\r\n  }\r\n \r\n  render(){\r\n    return(\r\n      <div>\r\n        <div className=\"modal fade\" id=\"replyModal\" tabindex=\"-1\" aria-labelledby=\"replyModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog\">\r\n            <form noValidate onSubmit={this.onSubmitReply}>\r\n            <div className=\"modal-content\" style={{backgroundColor: \"#262525\"}}>\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\" id=\"replyModalLabel\" style={{marginLeft: \"167px\", color: \"white\"}}>Write a Reply</h5>\r\n              </div>\r\n              <div className=\"modal-body\" style={{color: \"white\"}}>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  aria-label=\"ReplyBox\" \r\n                  placeholder=\"Write a reply...\"\r\n                  onChange={this.onChange}\r\n                  value={this.state.replyContent}\r\n                  id=\"replyContent\"\r\n                  style={{color: \"black\"}}>\r\n                </textarea>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"btn closeModalButton\" data-dismiss=\"modal\">Close</button>\r\n                <button type=\"button\" className=\"btn postReplyButton\" type=\"submit\">Post Reply</button>\r\n              </div>\r\n            </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <NavBar />\r\n        <div className=\"page\">\r\n          <div className=\"postFeed\">\r\n            {this.state.postComp}\r\n            <div style={{marginTop: \"-1px\"}}>\r\n              <hr className=\"postReplyOptionsDivider2\"></hr>\r\n              {this.createReplies()}\r\n              <div className=\"replyFooter\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nPostPage.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(PostPage);"]},"metadata":{},"sourceType":"module"}